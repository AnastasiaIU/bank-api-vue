import{p as y,a as A,r as i,o as h,c as n,g as e,f as k,j as u,t as s,F as B,s as I,i as _,q as S,A as V,d as o,h as E}from"./index-DWyc0-Aj.js";import{f as g}from"./formatters-DwE89AP2.js";const T={class:"container min-vh-100 d-flex justify-content-center align-items-start"},j={class:"card col-md-8 col-lg-6 col-xl-5 p-4 m-4"},w={class:"mb-4 mt-4"},D={class:"mb-3"},F={key:0,class:"alert alert-info mt-4"},P={key:1,class:"list-group"},$={class:"text-end"},q={key:0,class:"mt-4 text-end"},z={class:"h5 text-success"},C={__name:"AccountInfo",setup(x){var f;const r=A(),m=r.token,c=i(r.user),N=i((f=r.user)==null?void 0:f.id),l=i([]),p=i(0);async function b(v){const t=await S.get(V.accountsById(v),{headers:{Authorization:`Bearer ${m}`}});l.value=t.data,p.value=l.value.reduce((a,d)=>a+d.balance,0)}return h(()=>{b(N.value)}),(v,t)=>(o(),n("div",T,[e("section",j,[t[8]||(t[8]=e("h1",{class:"h2 text-center"},"Account Summary",-1)),e("div",w,[e("p",null,[t[0]||(t[0]=e("strong",null,"Name:",-1)),u(" "+s(c.value.firstName)+" "+s(c.value.lastName),1)]),e("p",null,[t[1]||(t[1]=e("strong",null,"Email:",-1)),u(" "+s(c.value.email),1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Phone:",-1)),u(" "+s(c.value.phoneNumber),1)])]),e("div",D,[t[6]||(t[6]=e("h6",null,[e("strong",null,"Accounts:")],-1)),l.value.length===0?(o(),n("div",F," No bank accounts are found. ")):(o(),n("ul",P,[(o(!0),n(B,null,I(l.value,(a,d)=>(o(),n("li",{key:d,class:"list-group-item d-flex justify-content-between"},[e("div",null,[e("strong",null,s(a.type)+" IBAN:",1),t[3]||(t[3]=e("br",null,null,-1)),u(" "+s(a.iban),1)]),e("div",$,[t[4]||(t[4]=e("span",{class:"text-muted"},"Balance:",-1)),t[5]||(t[5]=e("br",null,null,-1)),u(" "+s(_(g)(a.balance)),1)])]))),128))]))]),l.value.length>0?(o(),n("div",q,[t[7]||(t[7]=e("h6",null,"Total Balance:",-1)),e("p",z,s(_(g)(p.value)),1)])):k("",!0)])]))}},L=y(C,[["__scopeId","data-v-255e1696"]]),G={__name:"AccountView",setup(x){return(r,m)=>(o(),n("main",null,[E(L)]))}};export{G as default};
