import{p as x,c as o,d as i,g as t,f as y,t as c,j as g,r as u,o as B,J as $,h as m,F as b,z as k,q as I,A as P}from"./index-CQrpHjQa.js";import{T as S}from"./Toast-6IDy6cx_.js";const N={class:"card p-4 w-100"},D={class:"card-body d-flex flex-row gap-5 align-items-center"},E={class:"d-flex flex-column flex-grow-1"},F={key:0,class:"d-flex"},L={key:1,class:"d-flex"},V={class:"d-flex flex-column"},q={class:"d-flex"},R={class:"amount"},C={__name:"TransactionEntity",props:{fromAccount:String,toAccount:String,initiatedBy:{type:String,required:!0},amount:{type:Number,required:!0},timestamp:{type:String,required:!0}},setup(d){const a=d;return(p,s)=>(i(),o("section",N,[t("div",D,[t("div",E,[d.fromAccount!=null?(i(),o("div",F,[s[0]||(s[0]=t("strong",{class:"me-2 iban-origin"},"From:",-1)),t("span",null,c(a.fromAccount),1)])):y("",!0),d.toAccount!=null?(i(),o("div",L,[s[1]||(s[1]=t("strong",{class:"me-2 iban-origin"},"To:",-1)),t("span",null,c(a.toAccount),1)])):y("",!0)]),t("div",V,[t("div",null,[s[2]||(s[2]=t("strong",null,"Initiated By:",-1)),g(" "+c(a.initiatedBy),1)]),t("div",null,c(new Date(a.timestamp).toLocaleDateString("en-GB").replaceAll("/","-")+" "+new Date(a.timestamp).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)]),t("div",q,[s[3]||(s[3]=t("strong",{class:"amount-text"},"Amount:",-1)),t("span",R,"â‚¬"+c(a.amount.toFixed(2)),1)])])]))}},v=x(C,[["__scopeId","data-v-e994031b"]]),j={class:"wrapper"},z={key:0},G={key:1},O={key:2},J={"aria-label":"Page navigation",class:"d-flex justify-content-center align-items-center m-4 gap-3"},M=["disabled"],H={class:"text-muted fw-semibold"},K=["disabled"],Q={__name:"AllTransactionsList",setup(d){const a=u(null),p=u([]),s=u([]),l=u(0),T=u(10),f=u(0);async function _(){try{const r=await I.get(P.combinedTransactions(l.value,T.value)),n=r.data;p.value=n.content,f.value=n.totalPages,console.log(r.data)}catch{a.value.setToast("Failed to fetch transactions","error")}}function h(){l.value<f.value-1&&(l.value++,_())}function A(){l.value>0&&(l.value--,_())}B(async()=>{await _()});const w=$(()=>[...p.value,...s.value].sort((r,n)=>new Date(n.timestamp)-new Date(r.timestamp)));return(r,n)=>(i(),o(b,null,[n[2]||(n[2]=t("h1",{class:"h2 text-center m-4"},"Transactions",-1)),t("div",j,[(i(!0),o(b,null,k(w.value,e=>(i(),o("div",null,[e.type=="TRANSFER"?(i(),o("div",z,[m(v,{"from-account":e.sourceIban,"to-account":e.targetIban,amount:e.amount,"initiated-by":e.initiatedBy,timestamp:e.timestamp},null,8,["from-account","to-account","amount","initiated-by","timestamp"])])):e.type==="DEPOSIT"?(i(),o("div",G,[m(v,{"to-account":e.sourceIban,amount:e.amount,"initiated-by":e.initiatedBy,timestamp:e.timestamp},null,8,["to-account","amount","initiated-by","timestamp"])])):(i(),o("div",O,[m(v,{"from-account":e.sourceIban,amount:e.amount,"initiated-by":e.initiatedBy,timestamp:e.timestamp},null,8,["from-account","amount","initiated-by","timestamp"])]))]))),256)),t("nav",J,[t("button",{class:"btn btn-outline-primary",onClick:A,disabled:l.value===0},n[0]||(n[0]=[t("i",{class:"bi bi-chevron-left"},null,-1),g(" Previous")]),8,M),t("span",H," Page "+c(l.value+1)+" of "+c(f.value),1),t("button",{class:"btn btn-outline-primary",onClick:h,disabled:l.value>=f.value-1},n[1]||(n[1]=[g("Next "),t("i",{class:"bi bi-chevron-right"},null,-1)]),8,K)])]),m(S,{ref_key:"toastRef",ref:a},null,512)],64))}},U=x(Q,[["__scopeId","data-v-5e7a29c6"]]),W={class:"container-fluid d-flex flex-column flex-grow-1 align-items-center p-0"},Z={__name:"AllTransactionsView",setup(d){return(a,p)=>(i(),o("main",W,[m(U)]))}};export{Z as default};
