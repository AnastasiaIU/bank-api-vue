import{a as B,r as t,c as a,d as s,g as o,h as c,f as p,F as V,s as k,t as I,R as A,A as w}from"./index-DuY1-B3a.js";import{_ as h}from"./TextInput-DkCPOOgK.js";import{T as F}from"./Toast-C3bS__uk.js";const T={class:"card col-md-6 col-lg-5 col-xl-4 p-4 m-4"},E={class:"d-flex flex-row justify-content-between"},S=["disabled"],$={class:"mt-4"},P={key:0,class:"h5 mb-3"},R={key:1,class:"list-group"},C={class:"fw-bold"},D={key:2,class:"text-center text-muted mt-3"},L={__name:"FindIban",setup(x){const m=B(),l=t(""),r=t(""),i=t([]),d=t(!1),f=t(null),_=t(""),v=t("success");async function b(){d.value=!1;const u=await A.get(w.accountsByName(l.value,r.value),{headers:{Authorization:`Bearer ${m.token}`}});d.value=!0,y(),u.status===200?i.value=u.data:N("Failed to fetch IBANs. Please try again.","error")}function N(u,e){_.value=u,v.value=e,f.value.displayToast()}function g(){return!(l.value&&r.value)}function y(){l.value="",r.value=""}return(u,e)=>(s(),a("section",T,[e[2]||(e[2]=o("h1",{class:"h2 text-center"},"Find IBAN",-1)),o("div",null,[o("div",E,[c(h,{id:"firstName",label:"Enter first name",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n)},null,8,["modelValue"]),c(h,{id:"lastName",label:"Enter last name",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n)},null,8,["modelValue"])]),o("button",{class:"btn btn-primary mt-3 w-100",onClick:b,disabled:g()},"Find IBAN",8,S)]),o("div",$,[i.value.length?(s(),a("h2",P,"IBANs found:")):p("",!0),i.value.length?(s(),a("ul",R,[(s(!0),a(V,null,k(i.value,n=>(s(),a("li",{key:n.iban,class:"list-group-item text-center"},[o("span",C,I(n.iban),1)]))),128))])):d.value?(s(),a("div",D," No IBANs found for the given name. ")):p("",!0)]),c(F,{ref_key:"toastRef",ref:f,text:_.value,variant:v.value},null,8,["text","variant"])]))}},U={class:"container-fluid d-flex flex-column flex-grow-1 align-items-center p-0"},q={__name:"LookupView",setup(x){return(m,l)=>(s(),a("main",U,[c(L)]))}};export{q as default};
