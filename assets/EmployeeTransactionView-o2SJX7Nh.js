import{x as P,r as o,o as x,A as N,q as k,c as l,d as r,g as a,f as w,t as m,i as _,F as I,z as T,e as E,j as g,h as S}from"./index-D-pwlFFi.js";import{_ as V}from"./TransactionCard-BZcZUZ2U.js";import"./formatters-DwE89AP2.js";const $={class:"container mt-4"},B={class:"text-center mb-3"},z={key:0,class:"text-muted text-center"},C={class:"list-group mb-4"},F={"aria-label":"Page navigation",class:"d-flex justify-content-center align-items-center m-4 gap-3"},L=["disabled"],j={class:"text-muted fw-semibold"},q=["disabled"],A={__name:"TransactionListEmp",setup(b){const u=P(),i=o([]),p=u.params.accountId,f=u.query.iban,s=o(0),v=o(10),d=o(0),h=o(0);x(y);async function y(n=s.value){if(!p){console.warn("Missing accountId for employee view");return}try{const e=new URLSearchParams;e.append("page",n),e.append("size",v.value);const t=`${N.accountTransactionsbyId(p)}?${e.toString()}`,c=await k.get(t);i.value=c.data.content,d.value=c.data.totalPages,h.value=c.data.totalElements,s.value=c.data.number}catch(e){console.error("Failed to fetch transactions:",e)}}return(n,e)=>(r(),l("div",$,[a("h2",B,"Transactions for "+m(_(f)),1),i.value.length===0?(r(),l("div",z," No transactions found. ")):w("",!0),a("ul",C,[(r(!0),l(I,null,T(i.value,t=>(r(),E(V,{key:t.id,transaction:t,"reference-iban":_(f)},null,8,["transaction","reference-iban"]))),128))]),a("nav",F,[a("button",{class:"btn btn-outline-primary",onClick:e[0]||(e[0]=(...t)=>n.previousPage&&n.previousPage(...t)),disabled:s.value===0},e[2]||(e[2]=[a("i",{class:"bi bi-chevron-left"},null,-1),g(" Previous")]),8,L),a("span",j," Page "+m(s.value+1)+" of "+m(d.value),1),a("button",{class:"btn btn-outline-primary",onClick:e[1]||(e[1]=(...t)=>n.nextPage&&n.nextPage(...t)),disabled:s.value>=d.value-1},e[3]||(e[3]=[g("Next "),a("i",{class:"bi bi-chevron-right"},null,-1)]),8,q)])]))}},D={class:"container-fluid d-flex flex-column flex-grow-1 align-items-center p-0"},U={__name:"EmployeeTransactionView",setup(b){return(u,i)=>(r(),l("main",D,[S(A)]))}};export{U as default};
