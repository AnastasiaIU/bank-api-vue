import{u as w,a as x,b as N,c,d as n,e as S,f,g as t,i as r,S as E,w as R,h as s,_ as y,t as k,j as m,k as C,F}from"./index-DuY1-B3a.js";import{c as v,a as B,p as P,b as $,d as V,l as L,f as A,e as T,u as j,_ as o}from"./rules-Cf1QsYaS.js";import{_}from"./BasePasswordInput-BCGqF0B8.js";import"./formatters-DwE89AP2.js";const z=v({email:T,firstName:A,lastName:L,bsn:V,phoneNumber:$,password:P,confirmPassword:B}),D={class:"card col-md-6 col-lg-5 col-xl-4 p-4 m-4"},M={key:0,class:"alert alert-danger",role:"alert"},U=["disabled"],q={__name:"RegisterForm",setup(b){const d=w(),a=x(),l=j({validationSchema:z}),{handleSubmit:g}=l,u=g(async p=>{await a.register(p),a.fieldErrors&&a.fieldErrors.forEach(({key:e,messageText:i})=>l.setFieldError(e,i)),a.wasRegistered&&(l.resetForm(),a.clearUiState(),d.push("/login"))});return(p,e)=>{const i=N("router-link");return n(),c(F,null,[r(a).isLoading?(n(),S(E,{key:0,size:"md",message:"Trying to register..."})):f("",!0),t("section",D,[t("form",{class:"d-flex flex-column gap-2",onSubmit:e[0]||(e[0]=R((...h)=>r(u)&&r(u)(...h),["prevent"]))},[s(y),e[4]||(e[4]=t("p",{class:"h5 mb-3 medium-grey-text text-center"},"Create a new account",-1)),r(a).error?(n(),c("div",M,k(r(a).error),1)):f("",!0),s(o,{name:"email",label:"Email address",type:"email",placeholder:"Enter email"}),s(o,{name:"firstName",label:"First name",placeholder:"Enter first name"}),s(o,{name:"lastName",label:"Last name",placeholder:"Enter last name"}),s(o,{name:"bsn",label:"BSN",placeholder:"Enter BSN"}),s(o,{name:"phoneNumber",label:"Phone number",placeholder:"Enter phone number"}),s(_,{name:"password",label:"Password",placeholder:"Enter password"}),s(_,{name:"confirmPassword",label:"Confirm Password",placeholder:"Confirm password"}),t("button",{class:"btn btn-primary my-3",disabled:r(a).isLoading},"Register",8,U),t("p",null,[e[2]||(e[2]=m(" Already have an account? ")),s(i,{to:"/login",class:"link-opacity-75-hover"},{default:C(()=>e[1]||(e[1]=[m("Log in")])),_:1}),e[3]||(e[3]=m(". "))])],32)])],64)}}},G={class:"container-fluid d-flex flex-column flex-grow-1 align-items-center p-0"},O={__name:"RegisterView",setup(b){return(d,a)=>(n(),c("main",G,[s(q)]))}};export{O as default};
