import{p as T,c as s,d as o,g as a,f as _,t as c,j as h,r as d,o as w,J as B,h as l,F as f,z as S,q as y,A as g}from"./index-Baxu7pPT.js";import{T as k}from"./Toast-BS425cEl.js";const D={class:"card p-4 w-100"},I={class:"card-body d-flex flex-row gap-5 align-items-center"},N={class:"d-flex flex-column flex-grow-1"},$={key:0,class:"d-flex"},F={key:1,class:"d-flex"},E={class:"d-flex flex-column"},L={class:"d-flex"},P={class:"amount"},V={__name:"TransactionEntity",props:{fromAccount:String,toAccount:String,initiatedBy:{type:String,required:!0},amount:{type:Number,required:!0},timestamp:{type:String,required:!0}},setup(r){const n=r;return(u,e)=>(o(),s("section",D,[a("div",I,[a("div",N,[r.fromAccount!=null?(o(),s("div",$,[e[0]||(e[0]=a("strong",{class:"me-2 iban-origin"},"From:",-1)),a("span",null,c(n.fromAccount),1)])):_("",!0),r.toAccount!=null?(o(),s("div",F,[e[1]||(e[1]=a("strong",{class:"me-2 iban-origin"},"To:",-1)),a("span",null,c(n.toAccount),1)])):_("",!0)]),a("div",E,[a("div",null,[e[2]||(e[2]=a("strong",null,"Initiated By:",-1)),h(" "+c(n.initiatedBy),1)]),a("div",null,c(new Date(n.timestamp).toLocaleDateString("en-GB").replaceAll("/","-")+" "+new Date(n.timestamp).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)]),a("div",L,[e[3]||(e[3]=a("strong",{class:"amount-text"},"Amount:",-1)),a("span",P,"â‚¬"+c(n.amount.toFixed(2)),1)])])]))}},p=T(V,[["__scopeId","data-v-e994031b"]]),q={class:"wrapper"},G={key:0},M={key:1},O={key:2},R={__name:"AllTransactionsList",setup(r){const n=d(null),u=d([]),e=d([]);async function v(){try{const i=await y.get(g.allTransactions);u.value=i.data}catch{n.value.setToast("Failed to load transactions. Please try again.","error")}}async function x(){try{const i=await y.get(g.allAtmTransactions);e.value=i.data}catch(i){n.value.setToast("Failed to load ATM transactions. Please try again.","error"),console.error(i)}}async function b(){await v(),await x()}w(async()=>{await b()});const A=B(()=>[...u.value,...e.value].sort((i,m)=>new Date(m.timestamp)-new Date(i.timestamp)));return(i,m)=>(o(),s(f,null,[m[0]||(m[0]=a("h1",{class:"h2 text-center m-4"},"Transactions",-1)),a("div",q,[(o(!0),s(f,null,S(A.value,t=>(o(),s("div",null,[t.type==null?(o(),s("div",G,[l(p,{"from-account":t.sourceIban,"to-account":t.targetIban,amount:t.amount,"initiated-by":t.initiatedBy,timestamp:t.timestamp},null,8,["from-account","to-account","amount","initiated-by","timestamp"])])):t.type==="DEPOSIT"?(o(),s("div",M,[l(p,{"to-account":t.iban,amount:t.amount,"initiated-by":t.initiatedBy,timestamp:t.timestamp},null,8,["to-account","amount","initiated-by","timestamp"])])):(o(),s("div",O,[l(p,{"from-account":t.iban,amount:t.amount,"initiated-by":t.initiatedBy,timestamp:t.timestamp},null,8,["from-account","amount","initiated-by","timestamp"])]))]))),256))]),l(k,{ref_key:"toastRef",ref:n},null,512)],64))}},j=T(R,[["__scopeId","data-v-54bb168b"]]),z={class:"container-fluid d-flex flex-column flex-grow-1 align-items-center p-0"},H={__name:"AllTransactionsView",setup(r){return(n,u)=>(o(),s("main",z,[l(j)]))}};export{H as default};
