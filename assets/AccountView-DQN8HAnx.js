import{p as N,a as b,r as i,o as y,c as o,g as e,f as h,j as u,t as s,F as k,z as B,i as v,q as I,A as V,d as l,h as E}from"./index-DuCoVbdZ.js";import{f as _}from"./formatters-DwE89AP2.js";const S={class:"container min-vh-100 d-flex justify-content-center align-items-start"},T={class:"card col-md-8 col-lg-6 col-xl-5 p-4 m-4"},j={class:"mb-4 mt-4"},w={class:"mb-3"},D={key:0,class:"alert alert-info mt-4"},F={key:1,class:"list-group"},P={class:"text-end"},z={key:0,class:"mt-4 text-end"},C={class:"h5 text-success"},$={__name:"AccountInfo",setup(g){const r=b(),m=r.token,c=i(r.user),x=i(r.user?.id),a=i([]),p=i(0);async function A(f){const t=await I.get(V.accountsById(f),{headers:{Authorization:`Bearer ${m}`}});a.value=t.data.filter(n=>n.status==="ACTIVE"),p.value=a.value.reduce((n,d)=>n+d.balance,0)}return y(()=>{A(x.value)}),(f,t)=>(l(),o("div",S,[e("section",T,[t[8]||(t[8]=e("h1",{class:"h2 text-center"},"Account Summary",-1)),e("div",j,[e("p",null,[t[0]||(t[0]=e("strong",null,"Name:",-1)),u(" "+s(c.value.firstName)+" "+s(c.value.lastName),1)]),e("p",null,[t[1]||(t[1]=e("strong",null,"Email:",-1)),u(" "+s(c.value.email),1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Phone:",-1)),u(" "+s(c.value.phoneNumber),1)])]),e("div",w,[t[6]||(t[6]=e("h6",null,[e("strong",null,"Accounts:")],-1)),a.value.length===0?(l(),o("div",D," No bank accounts are found. ")):(l(),o("ul",F,[(l(!0),o(k,null,B(a.value,(n,d)=>(l(),o("li",{key:d,class:"list-group-item d-flex justify-content-between"},[e("div",null,[e("strong",null,s(n.type)+" IBAN:",1),t[3]||(t[3]=e("br",null,null,-1)),u(" "+s(n.iban),1)]),e("div",P,[t[4]||(t[4]=e("span",{class:"text-muted"},"Balance:",-1)),t[5]||(t[5]=e("br",null,null,-1)),u(" "+s(v(_)(n.balance)),1)])]))),128))]))]),a.value.length>0?(l(),o("div",z,[t[7]||(t[7]=e("h6",null,"Total Balance:",-1)),e("p",C,s(v(_)(p.value)),1)])):h("",!0)])]))}},q=N($,[["__scopeId","data-v-c56963e5"]]),O={__name:"AccountView",setup(g){return(r,m)=>(l(),o("main",null,[E(q)]))}};export{O as default};
