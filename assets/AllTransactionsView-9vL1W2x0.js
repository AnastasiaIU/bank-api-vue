import{p as x,c as o,d as i,g as t,f as y,t as r,j as _,r as u,o as S,J as B,h as d,F as b,z as $,q as k,A as I}from"./index-D29wqbBU.js";import{T as P}from"./Toast-DeDTaYdu.js";const N={class:"card p-4 w-100"},D={class:"card-body d-flex flex-row gap-5 align-items-center"},E={class:"d-flex flex-column flex-grow-1"},F={key:0,class:"d-flex"},q={key:1,class:"d-flex"},L={class:"d-flex flex-column"},V={class:"d-flex flex-column"},R={class:"amount"},C={__name:"TransactionEntity",props:{fromAccount:String,toAccount:String,initiatedBy:{type:String,required:!0},amount:{type:Number,required:!0},timestamp:{type:String,required:!0},status:{type:String,required:!0}},setup(c){const s=c;return(m,n)=>(i(),o("section",N,[t("div",D,[t("div",E,[c.fromAccount!=null?(i(),o("div",F,[n[0]||(n[0]=t("strong",{class:"me-2 iban-origin"},"From:",-1)),t("span",null,r(s.fromAccount),1)])):y("",!0),c.toAccount!=null?(i(),o("div",q,[n[1]||(n[1]=t("strong",{class:"me-2 iban-origin"},"To:",-1)),t("span",null,r(s.toAccount),1)])):y("",!0)]),t("div",L,[t("div",null,[n[2]||(n[2]=t("strong",null,"Initiated By:",-1)),_(" "+r(s.initiatedBy),1)]),t("div",null,r(new Date(s.timestamp).toLocaleDateString("en-GB").replaceAll("/","-")+" "+new Date(s.timestamp).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1)]),t("div",V,[t("div",null,[n[3]||(n[3]=t("strong",{class:"amount-text"},"Amount:",-1)),t("span",R,"â‚¬"+r(s.amount.toFixed(2)),1)]),t("div",null,[t("strong",null,[n[4]||(n[4]=_("Status: ")),t("span",null,r(s.status),1)])])])])]))}},g=x(C,[["__scopeId","data-v-e0917f35"]]),j={class:"wrapper"},z={key:0},G={key:1},O={key:2},J={"aria-label":"Page navigation",class:"d-flex justify-content-center align-items-center m-4 gap-3"},M=["disabled"],H={class:"text-muted fw-semibold"},K=["disabled"],Q={__name:"AllTransactionsList",setup(c){const s=u(null),m=u([]),n=u([]),l=u(0),T=u(10),p=u(0);async function v(){try{const a=(await k.get(I.combinedTransactions(l.value,T.value))).data;m.value=a.content,p.value=a.totalPages}catch{s.value.setToast("Failed to fetch transactions","error")}}function A(){l.value<p.value-1&&(l.value++,v())}function h(){l.value>0&&(l.value--,v())}S(async()=>{await v()});const w=B(()=>[...m.value,...n.value].sort((f,a)=>new Date(a.timestamp)-new Date(f.timestamp)));return(f,a)=>(i(),o(b,null,[a[2]||(a[2]=t("h1",{class:"h2 text-center m-4"},"Transactions",-1)),t("div",j,[(i(!0),o(b,null,$(w.value,e=>(i(),o("div",null,[e.type=="TRANSFER"?(i(),o("div",z,[d(g,{"from-account":e.sourceIban,"to-account":e.targetIban,amount:e.amount,"initiated-by":e.initiatedBy,timestamp:e.timestamp,status:e.status},null,8,["from-account","to-account","amount","initiated-by","timestamp","status"])])):e.type==="DEPOSIT"?(i(),o("div",G,[d(g,{"to-account":e.sourceIban,amount:e.amount,"initiated-by":e.initiatedBy,timestamp:e.timestamp,status:e.status},null,8,["to-account","amount","initiated-by","timestamp","status"])])):(i(),o("div",O,[d(g,{"from-account":e.sourceIban,amount:e.amount,"initiated-by":e.initiatedBy,timestamp:e.timestamp,status:e.status},null,8,["from-account","amount","initiated-by","timestamp","status"])]))]))),256)),t("nav",J,[t("button",{class:"btn btn-outline-primary",onClick:h,disabled:l.value===0},a[0]||(a[0]=[t("i",{class:"bi bi-chevron-left"},null,-1),_(" Previous")]),8,M),t("span",H," Page "+r(l.value+1)+" of "+r(p.value),1),t("button",{class:"btn btn-outline-primary",onClick:A,disabled:l.value>=p.value-1},a[1]||(a[1]=[_("Next "),t("i",{class:"bi bi-chevron-right"},null,-1)]),8,K)])]),d(P,{ref_key:"toastRef",ref:s},null,512)],64))}},U=x(Q,[["__scopeId","data-v-a5497681"]]),W={class:"container-fluid d-flex flex-column flex-grow-1 align-items-center p-0"},Z={__name:"AllTransactionsView",setup(c){return(s,m)=>(i(),o("main",W,[d(U)]))}};export{Z as default};
